<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–û–≥–æ–ª–æ—à–µ–Ω–Ω—è | –†–æ–¥–æ–≤–∞—Ä—Ç–∞</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background-color: #f8f9fa;
      color: #333;
    }
    header, footer {
      background-color: #007BFF;
      color: white;
      text-align: center;
      padding: 20px;
    }
    nav {
      background-color: #0056b3;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      padding: 10px;
    }
    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      padding: 5px 10px;
    }
    nav a:hover {
      text-decoration: underline;
    }
    main {
      padding: 40px 20px;
    }
    h2 {
      font-size: 2em;
      color: #0056b3;
      margin-bottom: 20px;
    }
    details {
      margin-bottom: 20px;
      background: #fff;
      padding: 10px 15px;
      border-radius: 5px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.1);
    }
    summary {
      font-size: 1.2em;
      font-weight: bold;
      cursor: pointer;
    }
    ul {
      list-style-type: square;
      margin-left: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1>–†–æ–¥–æ–≤–∞—Ä—Ç–∞ | –û–≥–æ–ª–æ—à–µ–Ω–Ω—è</h1>
    <p>–û–±–º—ñ–Ω—é—î–º–æ—Å—å –∑ –¥–æ–±—Ä–æ–º —ñ –∫–æ—Ä–∏—Å—Ç—é</p>
  </header>

  <nav>
    <a href="https://rodovarta.github.io/web-rodovarata/02_pro_fond.html">–ü—Ä–æ —Ñ–æ–Ω–¥</a>
    <a href="https://rodovarta.github.io/web-rodovarata/03_proekti.html">–ü—Ä–æ—î–∫—Ç–∏</a>
    <a href="https://rodovarta.github.io/web-rodovarata/04_oholoshennya.html">–û–≥–æ–ª–æ—à–µ–Ω–Ω—è</a>
    <a href="https://rodovarta.github.io/web-rodovarata/05_vzaemopidtrymka.html">–í–∑–∞—î–º–æ–ø—ñ–¥—Ç—Ä–∏–º–∫–∞</a>
    <a href="https://rodovarta.github.io/web-rodovarata/06_miy%20prophil.html">–í—Ö—ñ–¥</a>
  </nav>

  <main>
    <h2>üì¢ –û–≥–æ–ª–æ—à–µ–Ω–Ω—è</h2>

    <details open>
      <summary><span style="font-size: 1.4em; font-weight: bold; cursor: pointer; color: #0056b3;">‚ûï –î–æ–¥–∞—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è</span></summary>
      <form id="adForm" style="display: flex; flex-direction: column; gap: 15px; background: #ffffff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-top: 15px;">
    <label style="font-weight: 600;">üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è:
      <select name="category" required style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
        <option value="">-- –û–±–µ—Ä—ñ—Ç—å –∫–∞—Ç–µ–≥–æ—Ä—ñ—é --</option>
        <option>üõ°Ô∏è –ó–∞—Ö–∏—Å–Ω–∏–∫–∞–º —Ç–∞ –∑–∞—Ö–∏—Å–Ω–∏—Ü—è–º</option>
        <option>üë∂ –î–ª—è –¥—ñ—Ç–µ–π —ñ –±–∞—Ç—å–∫—ñ–≤</option>
        <option>üñ®Ô∏è 3D-–¥—Ä—É–∫ –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</option>
        <option>üß∫ –ê–≤—Ç–æ—Ä—Å—å–∫—ñ —Ç–æ–≤–∞—Ä–∏</option>
        <option>üöò –°—É–º—ñ—Å–Ω—ñ –ø–æ—ó–∑–¥–∫–∏</option>
        <option>üß† –ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ —Ç–∞ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞</option>
        <option>üîÆ –ù–∞—Å—Ç–∞–≤–Ω–∏—Ü—Ç–≤–æ —Ç–∞ –µ–∑–æ—Ç–µ—Ä–∏–∫–∞</option>
        <option>üè† –ñ–∏—Ç–ª–æ —Ç–∞ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å</option>
        <option>üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —ñ –∞–≤—Ç–æ</option>
        <option>üõèÔ∏è –û—Ä–µ–Ω–¥–∞ –∂–∏—Ç–ª–∞</option>
        <option>üîß –ê–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏–Ω–∏ —ñ –∞–∫—Å–µ—Å—É–∞—Ä–∏</option>
        <option>üíº –ó–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –≤–∞–∫–∞–Ω—Å—ñ—ó</option>
        <option>üõãÔ∏è –í—Å–µ –¥–ª—è –¥–æ–º—É —ñ —Å–∞–¥—É</option>
        <option>üì± –¢–µ—Ö–Ω—ñ–∫–∞ —Ç–∞ –≥–∞–¥–∂–µ—Ç–∏</option>
        <option>üß∞ –ë—ñ–∑–Ω–µ—Å –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</option>
        <option>üê∂ –î–æ–º–∞—à–Ω—ñ —É–ª—é–±–ª–µ–Ω—Ü—ñ</option>
        <option>üëó –û–¥—è–≥ —Ç–∞ –º–æ–¥–∞</option>
        <option>‚öΩ –•–æ–±—ñ —Ç–∞ –∞–∫—Ç–∏–≤–Ω–∏–π –≤—ñ–¥–ø–æ—á–∏–Ω–æ–∫</option>
        <option>üèïÔ∏è –¢—É—Ä–∏—Å—Ç–∏—á–Ω–µ —Ç–∞ –º–∏—Å–ª–∏–≤—Å—å–∫–µ —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è</option>
      </select>
    </label>
    <label style="font-weight: 600;">üè∑Ô∏è –ù–∞–∑–≤–∞:
      <input type="text" name="title" required placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –î–∏—Ç—è—á–∞ –∫–æ–ª—è—Å–∫–∞" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
    </label>
    <label style="font-weight: 600;">üìù –û–ø–∏—Å:
      <textarea name="description" rows="4" required placeholder="–ö–æ—Ä–æ—Ç–∫–æ —ñ –ø–æ —Å—É—Ç—ñ..." style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;"></textarea>
    </label>
    <label style="font-weight: 600;">üñºÔ∏è –§–æ—Ç–æ (1‚Äì3):
      <input type="file" name="photos" accept="image/*" multiple style="width: 100%; padding: 10px;">
    </label>
    <label style="font-weight: 600;">üîÅ –í–∏–¥ –æ–±–º—ñ–Ω—É:
      <select name="exchangeType" required style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
        <option value="">-- –û–±–µ—Ä—ñ—Ç—å –≤–∏–¥ –æ–±–º—ñ–Ω—É --</option>
        <option value="gift">–í –¥–∞—Ä</option>
        <option value="rent">–í –ø—Ä–æ–∫–∞—Ç</option>
        <option value="sale">–ù–∞ –ø—Ä–æ–¥–∞–∂</option>
        <option value="swap">–ù–∞ –æ–±–º—ñ–Ω</option>
      </select>
    </label>
    <label style="font-weight: 600;">üìå –£–º–æ–≤–∏ –æ–±–º—ñ–Ω—É:
      <select name="exchangeCondition" required style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
        <option value="">-- –û–±–µ—Ä—ñ—Ç—å —É–º–æ–≤—É --</option>
        <option value="free">–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</option>
        <option value="blago">–ó–∞ –ë–ª–∞–≥–æ—á–µ—Å—Ç—è</option>
        <option value="money">–ó–∞ –∫–æ—à—Ç–∏</option>
        <option value="barter">–ë–∞—Ä—Ç–µ—Ä</option>
      </select>
    </label>
    <label style="font-weight: 600;">üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä –∞–±–æ —É–º–æ–≤–∏ –ø–µ—Ä–µ–¥–∞—á—ñ:
      <input type="text" name="comment" placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –∞–±–æ –¥–æ—Å—Ç–∞–≤–∫–∞ –ù–æ–≤–æ—é –ø–æ—à—Ç–æ—é" style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc;">
    </label>
    <button type="submit" style="background-color: #28a745; color: white; padding: 12px; font-size: 1em; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 2px 6px rgba(0,0,0,0.2);">‚úÖ –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è</button>
  </form>

  <div id="adPreview" style="margin-top: 30px; background: #f0f9ff; padding: 15px; border-radius: 10px; border: 1px dashed #007BFF;"></div>

  <script>
    const adsKey = 'user_ads_list';

    document.getElementById('adForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const form = e.target;
      const data = {
        category: form.category.value,
        title: form.title.value,
        description: form.description.value,
        exchangeType: form.exchangeType.value,
        exchangeCondition: form.exchangeCondition.value,
        comment: form.comment.value,
        createdAt: new Date().toLocaleString()
      };

      let allAds = JSON.parse(localStorage.getItem(adsKey)) || [];
      allAds.push(data);
      localStorage.setItem(adsKey, JSON.stringify(allAds));

      const preview = document.getElementById('adPreview');
      preview.innerHTML = `
        <h4 style="color: #0056b3;">üì¶ –í–∞—à–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è:</h4>
        <p><strong>üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</strong> ${data.category}</p>
        <p><strong>üè∑Ô∏è –ù–∞–∑–≤–∞:</strong> ${data.title}</p>
        <p><strong>üìù –û–ø–∏—Å:</strong> ${data.description}</p>
        <p><strong>üîÅ –í–∏–¥ –æ–±–º—ñ–Ω—É:</strong> ${form.exchangeType.options[form.exchangeType.selectedIndex].text}</p>
        <p><strong>üìå –£–º–æ–≤–∏:</strong> ${form.exchangeCondition.options[form.exchangeCondition.selectedIndex].text}</p>
        <p><strong>üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä:</strong> ${data.comment}</p>
        <p style="color: green; font-weight: bold;">‚úÖ –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ localStorage</p>
      `;
      form.reset();
    });
  </script>
</details>

    <details open>
      <summary style="font-size: 1.4em; font-weight: bold; cursor: pointer; color: #0056b3;">üëÅÔ∏è‚Äçüó®Ô∏è –ú–æ—ó –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è</summary>
      <div id="myAdsList" style="margin-top: 15px; display: flex; flex-direction: column; gap: 15px;"></div>

  <script>
    function renderMyAds() {
      const adsKey = 'user_ads_list';
      const list = document.getElementById('myAdsList');
      const ads = JSON.parse(localStorage.getItem(adsKey)) || [];
      list.innerHTML = '';

      if (!ads.length) {
        list.innerHTML = '<p style="color: gray;">–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –æ–≥–æ–ª–æ—à–µ–Ω—å.</p>';
        return;
      }

      ads.forEach((ad, index) => {
        const card = document.createElement('div');
        card.style.padding = '15px';
        card.style.border = '1px solid #ddd';
        card.style.borderRadius = '8px';
        card.style.background = '#fff';
        card.style.boxShadow = '0 1px 4px rgba(0,0,0,0.05)';

        card.innerHTML = `
          <h4 style="margin-bottom: 5px; color: #007BFF;">${ad.title}</h4>
          <p><strong>üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</strong> ${ad.category}</p>
          <p><strong>üìù –û–ø–∏—Å:</strong> ${ad.description}</p>
          <p><strong>üîÅ –û–±–º—ñ–Ω:</strong> ${ad.exchangeType}</p>
          <p><strong>üìå –£–º–æ–≤–∏:</strong> ${ad.exchangeCondition}</p>
          <p><strong>üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä:</strong> ${ad.comment}</p>
          <p><small>üìÖ –î–∞—Ç–∞: ${ad.createdAt}</small></p>
          <div style="margin-top: 10px; display: flex; gap: 10px; flex-wrap: wrap;">
            <button onclick="editAd(${index})" style="padding: 6px 10px; border-radius: 5px; border: none; background: #ffc107; color: #000;">‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏</button>
            <button onclick="deleteAd(${index})" style="padding: 6px 10px; border-radius: 5px; border: none; background: #dc3545; color: #fff;">üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏</button>
            <button onclick="shareAd(${index})" style="padding: 6px 10px; border-radius: 5px; border: none; background: #17a2b8; color: #fff;">üì§ –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—å</button>
          </div>
        `;

        list.appendChild(card);
      });
    }

    function deleteAd(index) {
      const adsKey = 'user_ads_list';
      const ads = JSON.parse(localStorage.getItem(adsKey)) || [];
      if (confirm('–í–∏ –¥—ñ–π—Å–Ω–æ —Ö–æ—á–µ—Ç–µ –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è?')) {
        ads.splice(index, 1);
        localStorage.setItem(adsKey, JSON.stringify(ads));
        renderMyAds();
      }
    }

    function editAd(index) {
      const adsKey = 'user_ads_list';
      const ads = JSON.parse(localStorage.getItem(adsKey)) || [];
      const ad = ads[index];
      const newTitle = prompt('–ù–æ–≤–∞ –Ω–∞–∑–≤–∞:', ad.title);
      if (newTitle !== null) {
        ad.title = newTitle;
        localStorage.setItem(adsKey, JSON.stringify(ads));
        renderMyAds();
      }
    }

    function shareAd(index) {
      const adsKey = 'user_ads_list';
      const ads = JSON.parse(localStorage.getItem(adsKey)) || [];
      const ad = ads[index];
      const message = `üõéÔ∏è –û–≥–æ–ª–æ—à–µ–Ω–Ω—è: ${ad.title}\nüìÇ ${ad.category}\nüîÅ ${ad.exchangeType} | üìå ${ad.exchangeCondition}\nüìù ${ad.description}\nüí¨ ${ad.comment}`;
      navigator.clipboard.writeText(message).then(() => {
        alert('–°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ! –ú–æ–∂–Ω–∞ –≤—Å—Ç–∞–≤–∏—Ç–∏ –≤ –º–µ—Å–µ–Ω–¥–∂–µ—Ä —á–∏ —Å–æ—Ü–º–µ—Ä–µ–∂—É.');
      });
    }

    renderMyAds();
  </script>
</details>

    <details open>
      <summary style="font-size: 1.4em; font-weight: bold; cursor: pointer; color: #d39e00;">‚≠ê –û–±—Ä–∞–Ω—ñ (—É–ª—é–±–ª–µ–Ω—ñ)</summary>
        <div id="favouritesList" style="margin-top: 15px; display: flex; flex-direction: column; gap: 15px;"></div>

  <script>
    const favKey = 'favourite_ads';

    function toggleFavourite(ad) {
      let favs = JSON.parse(localStorage.getItem(favKey)) || [];
      const existing = favs.find(f => f.title === ad.title && f.createdAt === ad.createdAt);
      if (existing) {
        favs = favs.filter(f => !(f.title === ad.title && f.createdAt === ad.createdAt));
        alert('–í–∏–¥–∞–ª–µ–Ω–æ –∑ –æ–±—Ä–∞–Ω–æ–≥–æ');
      } else {
        favs.push(ad);
        alert('–î–æ–¥–∞–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–æ–≥–æ');
      }
      localStorage.setItem(favKey, JSON.stringify(favs));
      renderFavourites();
    }

    function renderFavourites() {
      const container = document.getElementById('favouritesList');
      const favs = JSON.parse(localStorage.getItem(favKey)) || [];
      container.innerHTML = '';

      if (favs.length === 0) {
        container.innerHTML = '<p style="color: gray;">–£ –≤–∞—Å —â–µ –Ω–µ–º–∞—î –æ–±—Ä–∞–Ω–∏—Ö –æ–≥–æ–ª–æ—à–µ–Ω—å.</p>';
        return;
      }

      favs.forEach((ad, index) => {
        const box = document.createElement('div');
        box.style.padding = '15px';
        box.style.border = '1px solid #ddd';
        box.style.borderRadius = '8px';
        box.style.background = '#fff8e1';
        box.style.boxShadow = '0 1px 4px rgba(0,0,0,0.05)';

        box.innerHTML = `
          <h4 style="margin-bottom: 5px; color: #e0a800;">${ad.title}</h4>
          <p><strong>üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</strong> ${ad.category}</p>
          <p><strong>üìù –û–ø–∏—Å:</strong> ${ad.description}</p>
          <p><strong>üîÅ –û–±–º—ñ–Ω:</strong> ${ad.exchangeType}</p>
          <p><strong>üìå –£–º–æ–≤–∏:</strong> ${ad.exchangeCondition}</p>
          <p><strong>üí¨ –ö–æ–º–µ–Ω—Ç–∞—Ä:</strong> ${ad.comment}</p>
          <p><small>üìÖ –î–∞—Ç–∞: ${ad.createdAt}</small></p>
          <div style="margin-top: 10px;">
            <button onclick='toggleFavourite(${JSON.stringify(ad)})' style="padding: 6px 10px; border-radius: 5px; border: none; background: #ffc107; color: #000;">‚≠ê –ü—Ä–∏–±—Ä–∞—Ç–∏ –∑ –æ–±—Ä–∞–Ω–æ–≥–æ</button>
          </div>
        `;
        container.appendChild(box);
      });
    }

    renderFavourites();
  </script>
</details>

    <details>
      <summary>üîç –ü–æ—à—É–∫ –æ–≥–æ–ª–æ—à–µ–Ω—å</summary>
      <!-- üîç –í–Ü–î–ñ–ï–¢: –†–û–ó–®–ò–†–ï–ù–ò–ô –ü–û–®–£–ö –û–ì–û–õ–û–®–ï–ù–¨ -->
<button onclick="openAdFeed()" style="padding: 10px 15px; background: #007BFF; color: white; border: none; border-radius: 6px; font-size: 1em; cursor: pointer;">
  üìã –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
</button>

<div id="adFeedOverlay"
     style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.6); z-index: 9998;"
     onclick="closeAdFeed()">
</div>

<div id="adFeedModal"
     style="display: none; position: fixed; top: 50%; left: 50%;
            transform: translate(-50%, -50%); width: 90%; max-width: 1000px; max-height: 90%;
            overflow-y: auto; background: white; padding: 20px; border-radius: 12px;
            box-shadow: 0 0 20px rgba(0,0,0,0.3); z-index: 9999;">
  <h3 style="margin-top: 0; color: #0056b3;">üìã –°—Ç—Ä—ñ—á–∫–∞ –æ–≥–æ–ª–æ—à–µ–Ω—å</h3>

  <!-- üéØ –ü–∞–Ω–µ–ª—å —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ -->
  <div style="position: sticky; top: 0; background: white; z-index: 1;
              padding-bottom: 10px; margin-bottom: 20px; border-bottom: 1px solid #ccc;">
    <div style="display: flex; flex-wrap: wrap; gap: 10px; align-items: center;">
      <input type="text" id="filterKeyword" placeholder="üîé –ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ..."
             style="flex:1; padding: 8px; border-radius: 6px; border: 1px solid #ccc;">
      <select id="filterCategory" style="padding: 8px; border-radius: 6px;">
        <option value="">üìÇ –£—Å—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó</option>
        <option>üõ°Ô∏è –ó–∞—Ö–∏—Å–Ω–∏–∫–∞–º —Ç–∞ –∑–∞—Ö–∏—Å–Ω–∏—Ü—è–º</option>
        <option>üë∂ –î–ª—è –¥—ñ—Ç–µ–π —ñ –±–∞—Ç—å–∫—ñ–≤</option>
        <option>üñ®Ô∏è 3D-–¥—Ä—É–∫ –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</option>
        <option>üß∫ –ê–≤—Ç–æ—Ä—Å—å–∫—ñ —Ç–æ–≤–∞—Ä–∏</option>
        <option>üöò –°—É–º—ñ—Å–Ω—ñ –ø–æ—ó–∑–¥–∫–∏</option>
        <option>üß† –ú–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ —Ç–∞ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞</option>
        <option>üîÆ –ù–∞—Å—Ç–∞–≤–Ω–∏—Ü—Ç–≤–æ —Ç–∞ –µ–∑–æ—Ç–µ—Ä–∏–∫–∞</option>
        <option>üè† –ñ–∏—Ç–ª–æ —Ç–∞ –Ω–µ—Ä—É—Ö–æ–º—ñ—Å—Ç—å</option>
        <option>üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç —ñ –∞–≤—Ç–æ</option>
        <option>üõèÔ∏è –û—Ä–µ–Ω–¥–∞ –∂–∏—Ç–ª–∞</option>
        <option>üîß –ê–≤—Ç–æ–∑–∞–ø—á–∞—Å—Ç–∏–Ω–∏ —ñ –∞–∫—Å–µ—Å—É–∞—Ä–∏</option>
        <option>üíº –ó–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –≤–∞–∫–∞–Ω—Å—ñ—ó</option>
        <option>üõãÔ∏è –í—Å–µ –¥–ª—è –¥–æ–º—É —ñ —Å–∞–¥—É</option>
        <option>üì± –¢–µ—Ö–Ω—ñ–∫–∞ —Ç–∞ –≥–∞–¥–∂–µ—Ç–∏</option>
        <option>üß∞ –ë—ñ–∑–Ω–µ—Å –ø—Ä–æ–ø–æ–∑–∏—Ü—ñ—ó</option>
        <option>üê∂ –î–æ–º–∞—à–Ω—ñ —É–ª—é–±–ª–µ–Ω—Ü—ñ</option>
        <option>üëó –û–¥—è–≥ —Ç–∞ –º–æ–¥–∞</option>
        <option>‚öΩ –•–æ–±—ñ —Ç–∞ –∞–∫—Ç–∏–≤–Ω–∏–π –≤—ñ–¥–ø–æ—á–∏–Ω–æ–∫</option>
        <option>üèïÔ∏è –¢—É—Ä–∏—Å—Ç–∏—á–Ω–µ —Ç–∞ –º–∏—Å–ª–∏–≤—Å—å–∫–µ —Å–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—è</option>
      </select>
      <select id="filterExchange" style="padding: 8px; border-radius: 6px;">
        <option value="">üîÅ –£—Å—ñ –≤–∏–¥–∏ –æ–±–º—ñ–Ω—É</option>
        <option>–ù–∞ –æ–±–º—ñ–Ω</option>
        <option>–ó–∞ –ë–ª–∞–≥–æ—á–µ—Å—Ç—è</option>
        <option>–í –¥–∞—Ä</option>
        <option>–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</option>
      </select>

      <select id="filterCondition" style="padding: 8px; border-radius: 6px;">
        <option value="">üìå –£—Å—ñ —É–º–æ–≤–∏</option>
        <option>–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ</option>
        <option>–ó–∞ –ë–ª–∞–≥–æ—á–µ—Å—Ç—è</option>
        <option>–ó–∞ –∫–æ—à—Ç–∏</option>
        <option>–ë–∞—Ä—Ç–µ—Ä</option>
      </select>

      <select id="sortOrder" style="padding: 8px; border-radius: 6px;">
        <option value="new">üïí –ù–æ–≤—ñ —Å–ø–æ—á–∞—Ç–∫—É</option>
        <option value="old">üìú –°—Ç–∞—Ä—ñ —Å–ø–æ—á–∞—Ç–∫—É</option>
      </select>

      <button onclick="applyFilters()" style="padding: 8px 12px; background: #28a745; color: white; border: none; border-radius: 6px;">üîç –ó–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏</button>
    </div>
  </div>

  <!-- üìú –°—é–¥–∏ –±—É–¥—É—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –∫–∞—Ä—Ç–∫–∏ –æ–≥–æ–ª–æ—à–µ–Ω—å -->
  <div id="adFeedList" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 15px;"></div>

  <button onclick="closeAdFeed()" style="margin-top: 20px; background: #dc3545; color: white; border: none; padding: 8px 12px; border-radius: 6px;">
    ‚úñÔ∏è –ó–∞–∫—Ä–∏—Ç–∏
  </button>
</div>

<!-- ‚úÖ –°–¢–ò–õ–Ü (–º–æ–∂–Ω–∞ –≤–∏–Ω–µ—Å—Ç–∏ –≤ <style>) -->
<style>
  #adFeedModal {
    animation: fadeIn 0.3s ease;
  }
  @keyframes fadeIn {
    from { opacity: 0; transform: translate(-50%, -40%); }
    to   { opacity: 1; transform: translate(-50%, -50%); }
  }
  @media (max-width: 600px) {
    #adFeedModal {
      width: 90%;
    }
  }
</style>

<!-- ‚úÖ JS: –í—ñ–¥–∫—Ä–∏—Ç–∏/–∑–∞–∫—Ä–∏—Ç–∏ -->
<script>
  function openAdFeed() {
    document.getElementById('adFeedModal').style.display = 'block';
    document.getElementById('adFeedOverlay').style.display = 'block';
    loadAllAds(); // –ø—ñ–¥–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
  }

  function closeAdFeed() {
    document.getElementById('adFeedModal').style.display = 'none';
    document.getElementById('adFeedOverlay').style.display = 'none';
  }
</script>
<script>
  function applyFilters() {
    const keyword = document.getElementById('filterKeyword').value.toLowerCase();
    const category = document.getElementById('filterCategory').value;
    const exchange = document.getElementById('filterExchange').value;
    const condition = document.getElementById('filterCondition').value;
    const sort = document.getElementById('sortOrder').value;

    const ads = JSON.parse(localStorage.getItem('user_ads_list')) || [];

    let filtered = ads.filter(ad => {
      const matchesKeyword = ad.title.toLowerCase().includes(keyword) || ad.description.toLowerCase().includes(keyword);
      const matchesCategory = !category || ad.category === category;
      const matchesExchange = !exchange || ad.exchangeType === exchange;
      const matchesCondition = !condition || ad.exchangeCondition === condition;
      return matchesKeyword && matchesCategory && matchesExchange && matchesCondition;
    });

    if (sort === 'new') {
      filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
    } else {
      filtered.sort((a, b) => new Date(a.createdAt) - new Date(b.createdAt));
    }

    renderAdFeed(filtered);
  }

  function loadAllAds() {
    const ads = JSON.parse(localStorage.getItem('user_ads_list')) || [];
    renderAdFeed(ads);
  }

  function renderAdFeed(ads) {
    const container = document.getElementById('adFeedList');
    container.innerHTML = '';

    if (ads.length === 0) {
      container.innerHTML = '<p style="color: gray;">–û–≥–æ–ª–æ—à–µ–Ω—å –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ.</p>';
      return;
    }

    ads.forEach((ad, index) => {
      const card = document.createElement('div');
      card.style.border = '1px solid #ccc';
      card.style.borderRadius = '8px';
      card.style.padding = '16px';
      card.style.background = '#f9f9f9';
      card.style.boxShadow = '0 1px 3px rgba(0,0,0,0.1)';
      card.style.cursor = 'pointer';
      card.style.transition = '0.2s';
      card.onmouseover = () => card.style.transform = 'scale(1.01)';
      card.onmouseout = () => card.style.transform = 'scale(1)';
      card.innerHTML = `
        <h4 style="color: #007BFF; margin-bottom: 8px;">${ad.title}</h4>
        <p><strong>üìÇ –ö–∞—Ç–µ–≥–æ—Ä—ñ—è:</strong> ${ad.category}</p>
        <p><strong>üìù –û–ø–∏—Å:</strong> ${ad.description}</p>
        <p><strong>üîÅ –û–±–º—ñ–Ω:</strong> ${ad.exchangeType}</p>
        <p><strong>üìå –£–º–æ–≤–∏:</strong> ${ad.exchangeCondition}</p>
        <p><small>üìÖ –î–∞—Ç–∞: ${ad.createdAt}</small></p>
        <div style="margin-top: 10px; display: flex; flex-wrap: wrap; gap: 8px;">
          <button onclick='toggleFavourite(${JSON.stringify(ad)})'
                  style="background: #ffc107; color: black; border: none; padding: 6px 10px; border-radius: 6px;">
            ‚≠ê –í –æ–±—Ä–∞–Ω–µ
          </button>
          <button onclick='redirectToInteraction("${ad.exchangeCondition}", ${JSON.stringify(ad)})'
                  style="background: #17a2b8; color: white; border: none; padding: 6px 10px; border-radius: 6px;">
            üí¨ –í–∑–∞—î–º–æ–¥—ñ—è
          </button>
        </div>
      `;
      container.appendChild(card);
    });
  }
</script>
<script>
  const favKey = 'favourite_ads';

  function toggleFavourite(ad) {
    let favs = JSON.parse(localStorage.getItem(favKey)) || [];
    const existing = favs.find(f => f.title === ad.title && f.createdAt === ad.createdAt);
    if (existing) {
      favs = favs.filter(f => !(f.title === ad.title && f.createdAt === ad.createdAt));
      alert('‚ùå –í–∏–¥–∞–ª–µ–Ω–æ –∑ –æ–±—Ä–∞–Ω–æ–≥–æ');
    } else {
      favs.push(ad);
      alert('‚úÖ –î–æ–¥–∞–Ω–æ –¥–æ –æ–±—Ä–∞–Ω–æ–≥–æ');
    }
    localStorage.setItem(favKey, JSON.stringify(favs));
  }

  function redirectToInteraction(condition, ad) {
    sessionStorage.setItem('interaction_draft', JSON.stringify(ad));

    let sectionId = '';
    switch (condition) {
      case '–ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ':
      case '–í –¥–∞—Ä':
        sectionId = 'giftSection';
        break;
      case '–ë–∞—Ä—Ç–µ—Ä':
      case '–ù–∞ –æ–±–º—ñ–Ω':
        sectionId = 'barterSection';
        break;
      case '–ó–∞ –ë–ª–∞–≥–æ—á–µ—Å—Ç—è':
        sectionId = 'blagoSection';
        break;
      default:
        sectionId = 'messagesSection';
        break;
    }

    closeAdFeed(); // –ó–∞–∫—Ä–∏–≤–∞—î–º–æ –≤—ñ–∫–Ω–æ
    const el = document.getElementById(sectionId);
    if (el) el.scrollIntoView({ behavior: 'smooth' });
  }
</script>
    </details>

  </main>

  <footer>
  ¬© 2025 –†–æ–¥–æ–≤–∞—Ä—Ç–∞ | –ó—Ä–æ–±–ª–µ–Ω–æ –∑ –ª—é–±–æ–≤‚Äô—é —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –≤—ñ–¥ –ë–û –ú–ë–§ –†–û–î–û–í–ê–†–¢–ê |
  <a href="https://rodovarta.github.io/web-rodovarata/" style="color:#FFD700; margin: 0 10px;">–ù–∞ –≥–æ–ª–æ–≤–Ω—É</a> |
  <a href="https://rodovarta.github.io/web-rodovarata/07_adminka.html" style="color:#FFD700;">–î–ª—è –∞–¥–º—ñ–Ω—ñ–≤</a>
</footer>

</body>
</html>
